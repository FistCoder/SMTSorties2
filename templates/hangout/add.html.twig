{% extends 'base.html.twig' %}

{% block stylesheets %}
    <style>

.modal {
    display: none; /* hidden by default */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6); /* semi-transparent black */
    z-index: 1000;

    align-items: center;
    justify-content: center;
}

.modal.show {
    display: flex;
}

.modal-content {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    min-width: 300px;
    max-width: 600px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    position: relative;
}

.modal-close {
    position: absolute;
    top: 10px;
    right: 15px;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
}
</style>
{% endblock %}
{% block body %}
    <main class="container">
        {{ form_start(formHangout) }}
        {{ form_widget(formHangout) }}
        {#        <input type="submit" name="action" value="save"> #}
        {#        <input type="submit" name="action" value="publish"> #}
        {{ form_end(formHangout) }}
        <button id="showModalBtn" onclick="showModal()">Ajouter un lieu</button>

        <div id="placeModal" class="modal">
            <div class="modal-content">
                <button class="modal-close" type="button">&times;</button>
                {{ include('places/add.html.twig') }}
            </div>
        </div>

    </main>

{% endblock %}

{% block title %}

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const modal = document.getElementById('placeModal');
            const openBtn = document.getElementById('showModalBtn');
            const closeBtn = modal.querySelector('.modal-close');

            // Open modal
            openBtn.addEventListener('click', () => {
                modal.classList.add('show');
            });

            // Close modal on button click
            closeBtn.addEventListener('click', () => {
                modal.classList.remove('show');
            });

            // Close modal on outside click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('show');
                }
            });
        });

    </script>
{% endblock %}